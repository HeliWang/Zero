@{
    Layout = "~/Areas/Member/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Index";
}

@model Zero.Core.Web.ResultInfo

<div class="fl wfs bcf7">
  <div class="regist-process-wrapper">
    <div class="regist-process-body fl wfs">
      <div class="regist-process-register-left fl">
        <h2 class="title">用户注册</h2>
        <form id="registerForm" action="/member/user/reg" method="post" name="formUser" onsubmit="return register2();">
          <div> <span class="title">用户名：</span>
            <input class="form-control text" id="username" onblur="is_registered(this.value);" name="username"  type="text">
            <p class="tips" id="username_notice"></p>
          </div>
          <div> <span class="title">邮箱：</span>
            <input id="email" class="form-control text" type="text" onblur="checkEmail(this.value);" name="email">
            <p class="tips" id="email_notice"></p>
          </div>
          <div> <span class="title">密码：</span>
            <input class="form-control text" id="password1"  name="password" onblur="check_password(this.value);" type="password">
            <p class="tips" id="password_notice"></p>
          </div>
          <div> <span class="title">确认密码：</span>
            <input class="form-control text" id="confirm" onblur="check_conform_password(this.value);" name="confirm_password" type="password">
            <p class="tips" id="conform_password_notice"></p>
          </div>
          <div> <span class="title" style="margin-top:20px;">验证码：</span>
            <input type="text" size="8" id="authcode" name="authcode" onblur="checkCode(this.value);" class="form-control text fl" style="width:100px;" />
            <img src="/member/home/getAuthCode" alt="captcha"  style="cursor: pointer;margin-top:22px;margin-left:10px;" onClick="this.src='/member/home/getAuthCode?'+Math.random()" /> 
            <p class="tips" id="code_notice" style="margin-top:5px;"></p>
          </div>
          <div class="read-protocal">
            <input id="protocal" name="agreement" type="checkbox" value="1" checked="checked" />
            阅读并已同意<a href="http://about.ecmoban.com/legal.php" target="_blank">《用户协议》</a> </div>
          <input type="hidden" name="act" value="act_register" >
          <input type="hidden" name="back_act" value="" />
          <input class="btn btn-danger register-now" name="Submit" type="submit"  value="立即注册">
        </form>
      </div>
      <div class="regist-process-register-right fr">
        <h2 class="title">我已注册账号</h2>
        <a class="btn btn-info login-now" href="login">立即登录</a> <span class="other-account">其他网站账号登陆</span>
        <div class="other-login"> <a class="qq" href="javascript:toQzoneLogin();">qq</a> <a class="sina" href="user.php?act=sina" target="_blank">新浪微博</a> <a class="alipay" href="user.php?act=alipay" target="_blank">支付宝</a> </div>
        <div class="scan"> <img src="http://member.ecmoban.com/content/themes/ecmoban2014/images/register-code.png" alt=""> <span>扫描我，即可下载</span> <b>模板堂手机客户端</b> </div>
        <p class="pre-consultation"> 售前咨询<b>400&nbsp;0021&nbsp;758</b> </p>
      </div>
    </div>
  </div>
</div>
<script>
    function register2() {
        debugger;
        var username=$("#username").val();
        var email = $("#email").val();
        var password = $("#password1").val();
        var confirm = $("#confirm").val();
        var authcode = $("#authcode").val();
        if (!is_registered(username)) {
            return false;
        }

        if (!checkEmail(email)) {
            return false;
        }

        if (!check_password(password)) {
            return false;
        }

        if (!check_conform_password(confirm)) {
            return false;
        }

        if (!checkCode(authcode)) {
            return false;
        }
  
        return true;
    }

    @if (Model!=null && Model.Status == 1)
    {
        <text>alert(@Model.Message)</text>
    }
</script>
<script type="text/javascript">
var process_request = "正在处理您的请求...";
var username_empty = "- 用户名不能为空。";
var username_shorter = "- 用户名长度不能少于 3 个字符。";
var username_invalid = "- 用户名只能是由字母数字以及下划线组成。";
var password_empty = "- 登录密码不能为空。";
var password_shorter = "- 登录密码不能少于 6 个字符。";
var confirm_password_invalid = "- 两次输入密码不一致";
var email_empty = "- Email 为空";
var email_invalid = "- Email 不是合法的地址";
var agreement = "- 您没有接受协议";
var msn_invalid = "- msn地址不是一个有效的邮件地址";
var qq_invalid = "- QQ号码不是一个有效的号码";
var home_phone_invalid = "- 家庭电话不是一个有效号码";
var office_phone_invalid = "- 办公电话不是一个有效号码";
var mobile_phone_invalid = "- 手机号码不是一个有效号码";
var msg_un_blank = "* 用户名不能为空";
var msg_un_length = "* 用户名最长不得超过7个汉字";
var msg_un_format = "* 用户名含有非法字符";
var msg_un_registered = "* 用户名已经存在,请重新输入";
var msg_can_rg = "* 可以注册";
var msg_email_blank = "* 邮件地址不能为空";
var msg_email_registered = "* 邮箱已存在,请重新输入";
var msg_email_format = "* 邮件地址不合法";
var msg_blank = "不能为空";
var no_select_question = "- 您没有完成密码提示问题的操作";
var passwd_balnk = "- 密码中不能包含空格";
var username_exist = "用户名 %s 已经存在";
var msg_code_blank = "* 验证码不能为空，请重新输入";
</script>

